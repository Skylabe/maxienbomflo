{"remainingRequest":"C:\\Users\\breys\\Documents\\cours\\WEB\\maxienbomflo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\breys\\Documents\\cours\\WEB\\maxienbomflo\\node_modules\\vuetify-loader\\lib\\loader.js!C:\\Users\\breys\\Documents\\cours\\WEB\\maxienbomflo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\breys\\Documents\\cours\\WEB\\maxienbomflo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\breys\\Documents\\cours\\WEB\\maxienbomflo\\src\\components\\home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\breys\\Documents\\cours\\WEB\\maxienbomflo\\src\\components\\home.vue","mtime":1573306615500},{"path":"C:\\Users\\breys\\Documents\\cours\\WEB\\maxienbomflo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\breys\\Documents\\cours\\WEB\\maxienbomflo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\breys\\Documents\\cours\\WEB\\maxienbomflo\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1564062719000},{"path":"C:\\Users\\breys\\Documents\\cours\\WEB\\maxienbomflo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\breys\\Documents\\cours\\WEB\\maxienbomflo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport io from 'socket.io-client';\nvar socket = io('127.0.0.1:3535');\nexport default {\n  name: 'home',\n  data: () => ({\n    pseudo: '',\n    password: '',\n    errPseudo: false,\n    log: []\n  }),\n  methods: {\n    //Connexion de l'utilisateur\n    //Envoyer juste le pseudo au serveur et stocker dans une variable de session\n    session: function (pseudo, password) {\n      if (pseudo != '' && password != '') {\n        this.errPseudo = false;\n        this.pseudo = pseudo;\n        this.password = password; // Enregistrement de la saisie utilisateur dans le stockage de session\n\n        this.log.push(pseudo);\n        this.log.push(password);\n        socket.emit('connexion', this.log);\n        this.log = [];\n      } else {\n        this.errPseudo = true;\n      }\n    }\n  },\n  props: {\n    msg: String\n  },\n  mounted: function () {\n    let self = this;\n    sessionStorage.clear();\n    socket.on('connexion_success', function (data) {\n      if (sessionStorage.getItem(\"autosave\")) {\n        // Restauration du contenu de session\n        sessionStorage.clear();\n      }\n\n      sessionStorage.setItem(\"autosave\", self.pseudo);\n      self.errPseudo = false;\n      console.log(data);\n      this.pseudo = '';\n      this.password = '';\n      document.location.href = '/room';\n    });\n    socket.on('connexion_failed', function (data) {\n      self.errPseudo = true;\n    });\n  }\n};",{"version":3,"sources":["home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,OAAA,EAAA,MAAA,kBAAA;AACA,IAAA,MAAA,GAAA,EAAA,CAAA,gBAAA,CAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAGA,EAAA,IAAA,EAAA,OAAA;AACA,IAAA,MAAA,EAAA,EADA;AAEA,IAAA,QAAA,EAAA,EAFA;AAGA,IAAA,SAAA,EAAA,KAHA;AAIA,IAAA,GAAA,EAAA;AAJA,GAAA,CAHA;AAUA,EAAA,OAAA,EAAA;AACA;AACA;AACA,IAAA,OAAA,EAAA,UAAA,MAAA,EAAA,QAAA,EAAA;AACA,UAAA,MAAA,IAAA,EAAA,IAAA,QAAA,IAAA,EAAA,EAAA;AACA,aAAA,SAAA,GAAA,KAAA;AACA,aAAA,MAAA,GAAA,MAAA;AACA,aAAA,QAAA,GAAA,QAAA,CAHA,CAIA;;AACA,aAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,aAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,WAAA,EAAA,KAAA,GAAA;AACA,aAAA,GAAA,GAAA,EAAA;AACA,OATA,MAUA;AACA,aAAA,SAAA,GAAA,IAAA;AACA;AACA;AAjBA,GAVA;AA+BA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GA/BA;AAmCA,EAAA,OAAA,EAAA,YAAA;AACA,QAAA,IAAA,GAAA,IAAA;AACA,IAAA,cAAA,CAAA,KAAA;AACA,IAAA,MAAA,CAAA,EAAA,CAAA,mBAAA,EAAA,UAAA,IAAA,EAAA;AACA,UAAA,cAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA;AACA,QAAA,cAAA,CAAA,KAAA;AACA;;AACA,MAAA,cAAA,CAAA,OAAA,CAAA,UAAA,EAAA,IAAA,CAAA,MAAA;AACA,MAAA,IAAA,CAAA,SAAA,GAAA,KAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,MAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,MAAA,QAAA,CAAA,QAAA,CAAA,IAAA,GAAA,OAAA;AACA,KAXA;AAYA,IAAA,MAAA,CAAA,EAAA,CAAA,kBAAA,EAAA,UAAA,IAAA,EAAA;AACA,MAAA,IAAA,CAAA,SAAA,GAAA,IAAA;AACA,KAFA;AAGA;AArDA,CAAA","sourcesContent":["<template>\r\n  <div id=\"content\">\r\n  <v-app id=\"inspire\">\r\n    <v-content>\r\n      <v-container\r\n        fluid\r\n        fill-height\r\n      >\r\n        <v-layout\r\n          align-center\r\n          justify-center\r\n        >\r\n          <v-flex\r\n            xs12\r\n            sm8\r\n            md4\r\n          >\r\n            <v-card class=\"elevation-12\">\r\n              <v-toolbar\r\n                color=\"#575453\"\r\n                dark\r\n                flat\r\n              >\r\n                <v-toolbar-title>MaxienBomFlo</v-toolbar-title>\r\n                <v-spacer></v-spacer>\r\n              </v-toolbar>\r\n              <v-card-text>\r\n                <v-form>\r\n                  <v-text-field\r\n                    label=\"Login\"\r\n                    name=\"login\"\r\n                    type=\"text\"\r\n                    v-model=\"pseudo\"\r\n                  ></v-text-field>\r\n\r\n                  <v-text-field\r\n                    id=\"password\"\r\n                    label=\"Password\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    v-model=\"password\"\r\n                  ></v-text-field>\r\n                  <v-btn v-on:click=\"session(pseudo, password)\" color=\"#575453\">Connexion</v-btn>\r\n                  <p v-if ='errPseudo' style=\"color:red;\">Les identifiants entr√©s sont incorrects</p>\r\n                </v-form>\r\n              </v-card-text>\r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                \r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-flex>\r\n        </v-layout>\r\n      </v-container>\r\n    </v-content>\r\n  </v-app>\r\n</div>\r\n</template>\r\n<script>\r\nimport io from 'socket.io-client';\r\nvar socket = io('127.0.0.1:3535');\r\nexport default {\r\n  name: 'home',\r\n\r\n    data : () => ({\r\n      pseudo: '',\r\n      password :'',\r\n      errPseudo : false,\r\n      log : []\r\n    }),\r\n\r\n    methods :{\r\n      //Connexion de l'utilisateur\r\n      //Envoyer juste le pseudo au serveur et stocker dans une variable de session\r\n      session : function(pseudo, password){\r\n        if (pseudo != '' && password != ''){\r\n          this.errPseudo = false;\r\n          this.pseudo = pseudo;\r\n          this.password = password;\r\n          // Enregistrement de la saisie utilisateur dans le stockage de session\r\n          this.log.push(pseudo);\r\n          this.log.push(password);\r\n          socket.emit('connexion', this.log);\r\n          this.log = [];\r\n        }\r\n        else {\r\n          this.errPseudo = true;\r\n        }\r\n      }\r\n    },\r\n\r\n    \r\n    props: {\r\n      msg: String,\r\n    },\r\n\r\n    mounted: function(){\r\n      let self = this;\r\n      sessionStorage.clear();\r\n      socket.on('connexion_success', function(data){\r\n          if (sessionStorage.getItem(\"autosave\")) {\r\n            // Restauration du contenu de session\r\n            sessionStorage.clear();\r\n          }\r\n          sessionStorage.setItem(\"autosave\", self.pseudo);\r\n          self.errPseudo = false\r\n          console.log(data)\r\n          this.pseudo = '';\r\n          this.password = '';\r\n          document.location.href= '/room'\r\n        })\r\n      socket.on('connexion_failed', function(data){\r\n          self.errPseudo = true\r\n      })\r\n    },\r\n}\r\n\r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>"],"sourceRoot":"src/components"}]}